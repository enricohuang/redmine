/**
 * Redmine Modern Bootstrap Theme
 * Clean, native Bootstrap 5.3 styling
 */

/* ==========================================================================
   CSS Variables - Modern Color Palette
   ========================================================================== */

:root {
  /* Primary brand color - Modern indigo */
  --rm-primary: #4f46e5;
  --rm-primary-hover: #4338ca;
  --rm-primary-light: #e0e7ff;

  /* Secondary colors */
  --rm-secondary: #64748b;
  --rm-secondary-hover: #475569;

  /* Success/Error/Warning/Info */
  --rm-success: #10b981;
  --rm-danger: #ef4444;
  --rm-warning: #f59e0b;
  --rm-info: #3b82f6;

  /* Neutrals */
  --rm-gray-50: #f8fafc;
  --rm-gray-100: #f1f5f9;
  --rm-gray-200: #e2e8f0;
  --rm-gray-300: #cbd5e1;
  --rm-gray-400: #94a3b8;
  --rm-gray-500: #64748b;
  --rm-gray-600: #475569;
  --rm-gray-700: #334155;
  --rm-gray-800: #1e293b;
  --rm-gray-900: #0f172a;

  /* Layout */
  --rm-body-bg: #f8fafc;
  --rm-content-bg: #ffffff;
  --rm-sidebar-bg: #f1f5f9;
  --rm-header-bg: #1e293b;
  --rm-navbar-bg: #0f172a;

  /* Shadows */
  --rm-shadow-sm: 0 1px 2px 0 rgb(0 0 0 / 0.05);
  --rm-shadow: 0 1px 3px 0 rgb(0 0 0 / 0.1), 0 1px 2px -1px rgb(0 0 0 / 0.1);
  --rm-shadow-md: 0 4px 6px -1px rgb(0 0 0 / 0.1), 0 2px 4px -2px rgb(0 0 0 / 0.1);

  /* Border radius */
  --rm-radius: 0.5rem;
  --rm-radius-sm: 0.375rem;
  --rm-radius-lg: 0.75rem;

  /* Override Bootstrap variables */
  --bs-primary: var(--rm-primary);
  --bs-primary-rgb: 79, 70, 229;
  --bs-secondary: var(--rm-secondary);
  --bs-success: var(--rm-success);
  --bs-danger: var(--rm-danger);
  --bs-warning: var(--rm-warning);
  --bs-info: var(--rm-info);
  --bs-body-bg: var(--rm-body-bg);
  --bs-body-color: var(--rm-gray-800);
  --bs-link-color: var(--rm-primary);
  --bs-link-hover-color: var(--rm-primary-hover);
  --bs-border-color: var(--rm-gray-200);
  --bs-border-radius: var(--rm-radius);
}

/* ==========================================================================
   Base Styles
   ========================================================================== */

body {
  font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
  font-size: 0.9375rem;
  line-height: 1.6;
  color: var(--rm-gray-800);
  background-color: var(--rm-body-bg);
  min-width: 320px;
}

a {
  color: var(--rm-primary);
  text-decoration: none;
  transition: color 0.15s ease;
}

a:hover {
  color: var(--rm-primary-hover);
  text-decoration: underline;
}

h1, h2, h3, h4, h5, h6 {
  font-weight: 600;
  color: var(--rm-gray-900);
  margin-bottom: 0.75rem;
}

h1 { font-size: 1.75rem; }
h2 { font-size: 1.5rem; }
h3 { font-size: 1.25rem; }
h4 { font-size: 1.125rem; }

/* ==========================================================================
   Layout Structure
   ========================================================================== */

#wrapper {
  min-height: 100vh;
  display: flex;
  flex-direction: column;
  background: var(--rm-body-bg);
}

/* Top Navigation Bar */
#top-menu {
  background: var(--rm-navbar-bg) !important;
  padding: 0.5rem 1rem;
  font-size: 0.875rem;
}

#top-menu ul {
  display: flex;
  align-items: center;
  gap: 0.25rem;
  margin: 0;
  padding: 0;
  list-style: none;
}

#top-menu li {
  margin: 0;
  padding: 0;
}

#top-menu a {
  color: rgba(255, 255, 255, 0.85);
  padding: 0.375rem 0.75rem;
  border-radius: var(--rm-radius-sm);
  font-weight: 500;
  transition: all 0.15s ease;
}

#top-menu a:hover {
  color: #fff;
  background: rgba(255, 255, 255, 0.1);
  text-decoration: none;
}

#top-menu #loggedas {
  color: rgba(255, 255, 255, 0.7);
  font-size: 0.8125rem;
}

#top-menu #loggedas a {
  color: #fff;
  font-weight: 600;
}

#account {
  display: flex;
  align-items: center;
  gap: 0.5rem;
}

#account ul {
  display: flex;
  gap: 0.25rem;
}

/* Header */
#header {
  background: var(--rm-header-bg);
  padding: 1rem 1.5rem 1rem;
  position: relative;
}

#header h1 {
  color: #fff;
  font-size: 1.375rem;
  font-weight: 600;
  margin: 0;
}

#header a {
  color: rgba(255, 255, 255, 0.9);
}

#header a:hover {
  color: #fff;
}

#header .breadcrumbs {
  font-size: 0.8125rem;
  color: rgba(255, 255, 255, 0.6);
  margin-bottom: 0.25rem;
}

#header .breadcrumbs a {
  color: rgba(255, 255, 255, 0.7);
}

/* Quick Search */
#quick-search {
  position: absolute;
  top: 1rem;
  right: 1.5rem;
}

#quick-search label {
  display: none;
}

#quick-search input[type="text"] {
  width: 220px;
  padding: 0.5rem 1rem;
  background: rgba(255, 255, 255, 0.1);
  border: 1px solid rgba(255, 255, 255, 0.2);
  border-radius: var(--rm-radius);
  color: #fff;
  font-size: 0.875rem;
}

#quick-search input[type="text"]::placeholder {
  color: rgba(255, 255, 255, 0.5);
}

#quick-search input[type="text"]:focus {
  background: rgba(255, 255, 255, 0.15);
  border-color: rgba(255, 255, 255, 0.3);
  outline: none;
  box-shadow: 0 0 0 3px rgba(255, 255, 255, 0.1);
}

/* Main Menu / Project Tabs */
#main-menu {
  background: var(--rm-header-bg);
  padding: 0 1.5rem;
  margin-top: 0.5rem;
  position: relative;
  left: 0;
  width: 100%;
}

#main-menu ul {
  display: flex;
  gap: 0.25rem;
  margin: 0;
  padding: 0;
  list-style: none;
  border-bottom: none;
}

#main-menu li {
  margin: 0;
}

#main-menu li a {
  display: block;
  padding: 0.625rem 1rem;
  color: rgba(255, 255, 255, 0.75);
  font-size: 0.875rem;
  font-weight: 500;
  border-radius: var(--rm-radius-sm) var(--rm-radius-sm) 0 0;
  transition: all 0.15s ease;
  border: none;
}

#main-menu li a:hover {
  color: #fff;
  background: rgba(255, 255, 255, 0.1);
  text-decoration: none;
}

#main-menu li a.selected {
  color: var(--rm-gray-800);
  background: var(--rm-body-bg);
  font-weight: 600;
}

#main-menu .nav-tabs {
  border: none;
}

#main-menu .nav-tabs .nav-link {
  border: none;
  color: rgba(255, 255, 255, 0.75);
  background: transparent;
}

#main-menu .nav-tabs .nav-link:hover {
  color: #fff;
  background: rgba(255, 255, 255, 0.1);
  border: none;
}

#main-menu .nav-tabs .nav-link.active {
  color: var(--rm-gray-800);
  background: var(--rm-body-bg);
  border: none;
}

/* Main Content Area */
#main {
  flex: 1;
  display: flex;
  flex-direction: row-reverse;
  background: var(--rm-body-bg);
  min-height: 0;
}

#content {
  flex: 1;
  background: var(--rm-content-bg);
  padding: 1.5rem 2rem;
  border-radius: var(--rm-radius-lg);
  margin: 1rem;
  box-shadow: var(--rm-shadow);
}

#main.nosidebar #content {
  margin: 1rem;
}

/* Sidebar */
#sidebar {
  width: 280px;
  flex-shrink: 0;
  padding: 1.5rem 1rem 1.5rem 0;
  font-size: 0.875rem;
  background: transparent;
  border: none;
}

#sidebar h3 {
  font-size: 0.75rem;
  font-weight: 600;
  text-transform: uppercase;
  letter-spacing: 0.05em;
  color: var(--rm-gray-500);
  margin-bottom: 0.75rem;
  padding-bottom: 0.5rem;
  border-bottom: 1px solid var(--rm-gray-200);
}

#sidebar ul {
  margin: 0 0 1.5rem;
  padding: 0;
  list-style: none;
}

#sidebar li {
  margin: 0;
  padding: 0;
}

#sidebar li a {
  display: block;
  padding: 0.375rem 0.75rem;
  color: var(--rm-gray-700);
  border-radius: var(--rm-radius-sm);
  transition: all 0.15s ease;
}

#sidebar li a:hover {
  background: var(--rm-gray-100);
  color: var(--rm-primary);
  text-decoration: none;
}

#sidebar-switch-panel {
  display: none !important;
}

/* Footer */
#footer {
  background: var(--rm-gray-100);
  border-top: 1px solid var(--rm-gray-200);
  padding: 1rem 1.5rem;
  text-align: center;
  font-size: 0.8125rem;
  color: var(--rm-gray-500);
}

#footer a {
  color: var(--rm-gray-600);
}

/* ==========================================================================
   Components
   ========================================================================== */

/* Buttons */
input[type="submit"],
input[type="button"],
button[type="submit"],
button[type="button"],
.button,
a.button {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  gap: 0.5rem;
  padding: 0.5rem 1rem;
  font-size: 0.875rem;
  font-weight: 500;
  line-height: 1.5;
  color: var(--rm-gray-700);
  background: #fff;
  border: 1px solid var(--rm-gray-300);
  border-radius: var(--rm-radius);
  cursor: pointer;
  transition: all 0.15s ease;
  box-shadow: var(--rm-shadow-sm);
}

input[type="submit"]:hover,
input[type="button"]:hover,
button[type="submit"]:hover,
button[type="button"]:hover,
.button:hover,
a.button:hover {
  background: var(--rm-gray-50);
  border-color: var(--rm-gray-400);
  text-decoration: none;
}

input[type="submit"]:focus,
button[type="submit"]:focus {
  outline: none;
  box-shadow: 0 0 0 3px var(--rm-primary-light);
}

/* Primary button */
input[type="submit"][name="commit"],
.btn-primary,
button.primary {
  color: #fff;
  background: var(--rm-primary);
  border-color: var(--rm-primary);
}

input[type="submit"][name="commit"]:hover,
.btn-primary:hover,
button.primary:hover {
  background: var(--rm-primary-hover);
  border-color: var(--rm-primary-hover);
}

/* Danger button */
input[type="submit"].delete,
.btn-danger,
a.delete:not(.icon-only) {
  color: #fff;
  background: var(--rm-danger);
  border-color: var(--rm-danger);
}

/* Icon-only delete buttons (like watcher delete) */
a.delete.icon-only {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  width: 24px;
  height: 24px;
  padding: 4px;
  border-radius: 4px;
  background: transparent;
  color: var(--rm-gray-500);
  border: none;
  transition: all 0.15s ease;
}

a.delete.icon-only:hover {
  background: var(--rm-danger);
  color: #fff;
}

a.delete.icon-only svg {
  width: 16px;
  height: 16px;
}

/* Form Controls */
input[type="text"],
input[type="password"],
input[type="email"],
input[type="url"],
input[type="tel"],
input[type="number"],
input[type="search"],
input[type="date"],
input[type="time"],
textarea,
select {
  width: 100%;
  max-width: 100%;
  padding: 0.5rem 0.75rem;
  font-size: 0.9375rem;
  line-height: 1.5;
  color: var(--rm-gray-800);
  background: #fff;
  border: 1px solid var(--rm-gray-300);
  border-radius: var(--rm-radius);
  transition: border-color 0.15s ease, box-shadow 0.15s ease;
}

input[type="text"]:focus,
input[type="password"]:focus,
input[type="email"]:focus,
textarea:focus,
select:focus {
  border-color: var(--rm-primary);
  outline: none;
  box-shadow: 0 0 0 3px var(--rm-primary-light);
}

select {
  appearance: none;
  background-image: url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' fill='none' viewBox='0 0 20 20'%3e%3cpath stroke='%236b7280' stroke-linecap='round' stroke-linejoin='round' stroke-width='1.5' d='M6 8l4 4 4-4'/%3e%3c/svg%3e");
  background-position: right 0.5rem center;
  background-repeat: no-repeat;
  background-size: 1.5em 1.5em;
  padding-right: 2.5rem;
  /* Ensure proper height for text content */
  height: auto;
  min-height: 2.5rem;
}

/* Checkboxes and Radios */
input[type="checkbox"],
input[type="radio"] {
  width: 1.125rem;
  height: 1.125rem;
  margin-right: 0.5rem;
  accent-color: var(--rm-primary);
  vertical-align: middle;
}

/* Labels */
label {
  display: block;
  margin-bottom: 0.375rem;
  font-weight: 500;
  color: var(--rm-gray-700);
  font-size: 0.875rem;
}

/* Inline labels for checkboxes/radios - make them appear on same line */
label.inline,
label.no-css,
input[type="checkbox"] + label,
input[type="radio"] + label {
  display: inline;
  font-weight: normal;
  vertical-align: middle;
  margin-right: 1rem; /* Add spacing between radio/checkbox groups */
}

/* Checkbox/radio wrapper paragraphs should allow inline content */
p:has(> input[type="checkbox"]),
p:has(> input[type="radio"]) {
  display: flex;
  align-items: center;
  gap: 0.25rem;
}

/* Tables */
table.list,
table.issues,
table.files,
table.time-entries,
table.members,
table.versions,
.table {
  width: 100%;
  border-collapse: separate;
  border-spacing: 0;
  background: #fff;
  border-radius: var(--rm-radius);
  overflow: hidden;
  box-shadow: var(--rm-shadow-sm);
  border: 1px solid var(--rm-gray-200);
}

table.list th,
table.issues th,
.table th {
  background: var(--rm-gray-50);
  padding: 0.75rem 1rem;
  font-size: 0.75rem;
  font-weight: 600;
  text-transform: uppercase;
  letter-spacing: 0.05em;
  color: var(--rm-gray-600);
  text-align: left;
  border-bottom: 1px solid var(--rm-gray-200);
}

table.list td,
table.issues td,
.table td {
  padding: 0.75rem 1rem;
  border-bottom: 1px solid var(--rm-gray-100);
  vertical-align: middle;
  font-size: 0.9375rem;
}

table.list tbody tr:last-child td,
table.issues tbody tr:last-child td {
  border-bottom: none;
}

table.list tbody tr:hover,
table.issues tbody tr:hover {
  background: var(--rm-gray-50);
}

table.list td.checkbox,
table.issues td.checkbox {
  width: 40px;
  text-align: center;
}

/* Flash Messages / Alerts */
.flash {
  display: flex;
  align-items: flex-start;
  gap: 0.75rem;
  padding: 1rem 1.25rem;
  margin-bottom: 1.5rem;
  border-radius: var(--rm-radius);
  font-size: 0.9375rem;
}

.flash.notice,
.flash.success {
  background: #ecfdf5;
  border: 1px solid #a7f3d0;
  color: #065f46;
}

.flash.error,
.flash.alert {
  background: #fef2f2;
  border: 1px solid #fecaca;
  color: #991b1b;
}

.flash.warning {
  background: #fffbeb;
  border: 1px solid #fde68a;
  color: #92400e;
}

.flash .btn-close {
  margin-left: auto;
  opacity: 0.5;
}

.flash .btn-close:hover {
  opacity: 1;
}

/* Cards / Boxes */
.box,
fieldset,
.splitcontent > div {
  background: #fff;
  border: 1px solid var(--rm-gray-200);
  border-radius: var(--rm-radius);
  padding: 1.25rem;
  margin-bottom: 1.5rem;
}

fieldset {
  margin: 0 0 1.5rem;
}

fieldset legend,
.box h3 {
  font-size: 0.9375rem;
  font-weight: 600;
  color: var(--rm-gray-800);
  padding-bottom: 0.75rem;
  margin-bottom: 1rem;
  border-bottom: 1px solid var(--rm-gray-200);
}

/* Tabs */
.tabs ul,
ul.tabs,
.nav-tabs {
  display: flex;
  gap: 0.25rem;
  padding: 0;
  margin: 0 0 1.5rem;
  list-style: none;
  border-bottom: 1px solid var(--rm-gray-200);
}

.tabs ul li,
ul.tabs li {
  margin-bottom: -1px;
}

.tabs ul li a,
ul.tabs li a,
.nav-tabs .nav-link {
  display: block;
  padding: 0.75rem 1.25rem;
  font-size: 0.875rem;
  font-weight: 500;
  color: var(--rm-gray-600);
  border: 1px solid transparent;
  border-bottom: none;
  border-radius: var(--rm-radius-sm) var(--rm-radius-sm) 0 0;
  background: transparent;
  transition: all 0.15s ease;
}

.tabs ul li a:hover,
ul.tabs li a:hover,
.nav-tabs .nav-link:hover {
  color: var(--rm-gray-800);
  background: var(--rm-gray-50);
  text-decoration: none;
}

.tabs ul li a.selected,
ul.tabs li a.selected,
.nav-tabs .nav-link.active {
  color: var(--rm-primary);
  background: #fff;
  border-color: var(--rm-gray-200);
  border-bottom-color: #fff;
}

/* Pagination */
p.pagination,
.pagination {
  display: flex;
  align-items: center;
  gap: 0.25rem;
  margin: 1.5rem 0;
  font-size: 0.875rem;
}

p.pagination a,
p.pagination span.current,
.pagination .page-link {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  min-width: 2rem;
  height: 2rem;
  padding: 0 0.5rem;
  color: var(--rm-gray-700);
  background: #fff;
  border: 1px solid var(--rm-gray-300);
  border-radius: var(--rm-radius-sm);
  text-decoration: none;
  transition: all 0.15s ease;
}

p.pagination a:hover,
.pagination .page-link:hover {
  background: var(--rm-gray-50);
  border-color: var(--rm-gray-400);
}

p.pagination span.current,
.pagination .page-item.active .page-link {
  color: #fff;
  background: var(--rm-primary);
  border-color: var(--rm-primary);
}

/* Dropdowns */
.drdn {
  position: relative;
}

.drdn-content {
  position: absolute;
  top: 100%;
  right: 0;
  z-index: 1000;
  min-width: 180px;
  padding: 0.5rem 0;
  background: #fff;
  border: 1px solid var(--rm-gray-200);
  border-radius: var(--rm-radius);
  box-shadow: var(--rm-shadow-md);
  display: none;
}

.drdn:hover .drdn-content,
.drdn-content.visible {
  display: block;
}

.drdn-content a {
  display: block;
  padding: 0.5rem 1rem;
  color: var(--rm-gray-700);
  font-size: 0.875rem;
}

.drdn-content a:hover {
  background: var(--rm-gray-50);
  color: var(--rm-gray-900);
  text-decoration: none;
}

/* Context Menu */
.contextual {
  float: right;
  display: flex;
  align-items: center;
  gap: 0.5rem;
  font-size: 0.875rem;
}

.contextual a {
  color: var(--rm-gray-600);
  padding: 0.375rem 0.5rem;
  border-radius: var(--rm-radius-sm);
}

.contextual a:hover {
  color: var(--rm-primary);
  background: var(--rm-gray-100);
  text-decoration: none;
}

/* Buttons group */
.buttons {
  display: flex;
  gap: 0.5rem;
  margin: 1.5rem 0;
  flex-wrap: wrap;
}

/* Column selection buttons (Available/Selected columns) */
#list-definition .buttons {
  flex-direction: column;
  margin: 0;
  gap: 0.25rem;
}

#list-definition .buttons button {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  width: 36px;
  height: 36px;
  padding: 0;
  color: var(--rm-gray-600);
  font-size: 1.125rem;
  line-height: 1;
}

#list-definition .buttons button svg.icon-svg {
  stroke: var(--rm-gray-600);
  width: 18px;
  height: 18px;
}

#list-definition .buttons button:hover {
  color: var(--rm-primary);
  border-color: var(--rm-primary);
}

#list-definition .buttons button:hover svg.icon-svg {
  stroke: var(--rm-primary);
}

/* Progress bar */
table.progress {
  width: 100%;
  height: 8px;
  background: var(--rm-gray-200);
  border-radius: 4px;
  overflow: hidden;
  border: none;
  box-shadow: none;
}

table.progress td {
  padding: 0;
  border: none;
}

table.progress td.closed {
  background: var(--rm-success);
}

table.progress td.done {
  background: var(--rm-primary);
}

/* Badges */
.badge,
span.badge-count {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  min-width: 1.5rem;
  height: 1.5rem;
  padding: 0 0.5rem;
  font-size: 0.75rem;
  font-weight: 600;
  color: #fff;
  background: var(--rm-gray-500);
  border-radius: 9999px;
}

/* Issue status badges */
span.badge-status {
  font-size: 0.6875rem;
  font-weight: 600;
  text-transform: uppercase;
  letter-spacing: 0.025em;
  padding: 0.25rem 0.5rem;
  border-radius: var(--rm-radius-sm);
}

/* Wiki content */
.wiki {
  line-height: 1.75;
}

.wiki h1 { font-size: 1.75rem; margin-top: 2rem; }
.wiki h2 { font-size: 1.5rem; margin-top: 1.75rem; }
.wiki h3 { font-size: 1.25rem; margin-top: 1.5rem; }

.wiki pre {
  background: var(--rm-gray-900);
  color: #e2e8f0;
  padding: 1rem 1.25rem;
  border-radius: var(--rm-radius);
  overflow-x: auto;
  font-size: 0.875rem;
  line-height: 1.6;
}

.wiki code {
  background: var(--rm-gray-100);
  color: var(--rm-danger);
  padding: 0.125rem 0.375rem;
  border-radius: var(--rm-radius-sm);
  font-size: 0.875em;
}

.wiki pre code {
  background: transparent;
  color: inherit;
  padding: 0;
}

.wiki blockquote {
  margin: 1.5rem 0;
  padding: 1rem 1.25rem;
  background: var(--rm-gray-50);
  border-left: 4px solid var(--rm-primary);
  border-radius: 0 var(--rm-radius-sm) var(--rm-radius-sm) 0;
}

.wiki table {
  border: 1px solid var(--rm-gray-200);
  border-radius: var(--rm-radius);
  overflow: hidden;
}

.wiki table th,
.wiki table td {
  padding: 0.75rem 1rem;
  border: 1px solid var(--rm-gray-200);
}

.wiki table th {
  background: var(--rm-gray-50);
  font-weight: 600;
}

/* Error messages */
.errorExplanation,
#errorExplanation {
  background: #fef2f2;
  border: 1px solid #fecaca;
  border-radius: var(--rm-radius);
  padding: 1rem 1.25rem;
  margin-bottom: 1.5rem;
  color: #991b1b;
}

.errorExplanation h2,
#errorExplanation h2 {
  font-size: 1rem;
  font-weight: 600;
  margin: 0 0 0.75rem;
  color: #991b1b;
}

.errorExplanation ul,
#errorExplanation ul {
  margin: 0;
  padding-left: 1.25rem;
}

/* No data message */
.nodata {
  text-align: center;
  color: var(--rm-gray-500);
  padding: 3rem 1rem;
  font-size: 0.9375rem;
}

/* ==========================================================================
   Login Page
   ========================================================================== */

#login-form {
  max-width: 400px;
  margin: 3rem auto;
  padding: 2rem;
  background: #fff;
  border-radius: var(--rm-radius-lg);
  box-shadow: var(--rm-shadow-md);
}

#login-form h3 {
  text-align: center;
  font-size: 1.5rem;
  margin-bottom: 1.5rem;
}

#login-form label {
  margin-bottom: 0.5rem;
}

#login-form input[type="text"],
#login-form input[type="password"] {
  margin-bottom: 1rem;
}

#login-form .lost_password {
  font-size: 0.8125rem;
  color: var(--rm-gray-500);
}

#login-form input[type="submit"],
#login-form #login-submit {
  width: 100%;
  height: auto;
  padding: 0.75rem 1rem;
  font-size: 1rem;
  font-weight: 600;
  line-height: 1.5;
  margin-top: 0.5rem;
  color: #fff !important;
  background: var(--rm-primary) !important;
  border: 1px solid var(--rm-primary) !important;
  border-radius: var(--rm-radius);
  cursor: pointer;
  transition: all 0.15s ease;
  text-align: center;
}

#login-form input[type="submit"]:hover,
#login-form #login-submit:hover {
  background: var(--rm-primary-hover) !important;
  border-color: var(--rm-primary-hover) !important;
}

/* ==========================================================================
   Issues
   ========================================================================== */

.issue.details {
  background: #fff;
  border: 1px solid var(--rm-gray-200);
  border-radius: var(--rm-radius);
  padding: 1.5rem;
  margin-bottom: 1.5rem;
}

.issue .subject h3 {
  font-size: 1.25rem;
  font-weight: 600;
  color: var(--rm-gray-900);
  margin: 0;
}

.issue .attributes {
  display: grid;
  grid-template-columns: repeat(2, 1fr);
  gap: 1rem;
  margin-top: 1.5rem;
}

.issue .attribute {
  display: flex;
  gap: 0.5rem;
}

.issue .attribute .label {
  font-weight: 500;
  color: var(--rm-gray-500);
  min-width: 120px;
}

/* Issue list priority colors */
tr.priority-highest td { border-left: 3px solid var(--rm-danger); }
tr.priority-high td { border-left: 3px solid #f97316; }
tr.priority-low td { border-left: 3px solid var(--rm-info); }
tr.priority-lowest td { border-left: 3px solid var(--rm-gray-400); }

/* ==========================================================================
   Filters
   ========================================================================== */

fieldset#filters {
  background: var(--rm-gray-50);
}

/* Filter row layout - prevent wrapping of values */
#filters-table .filter {
  flex-wrap: nowrap;
  align-items: center;
}

#filters-table .filter .values {
  display: inline-flex;
  align-items: center;
  gap: 0.5rem;
}

#filters-table .filter .values > span {
  display: inline-flex !important;
  align-items: center;
  gap: 0.25rem;
}

/* Toggle multiselect icon styling */
.toggle-multiselect {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  width: 28px;
  height: 28px;
  padding: 0;
  cursor: pointer;
}

.toggle-multiselect svg.icon-svg {
  stroke: var(--rm-gray-500);
}

.toggle-multiselect:hover svg.icon-svg {
  stroke: var(--rm-primary);
}

/* Add filter section - inline label and dropdown */
.add-filter {
  display: inline-flex;
  align-items: center;
  gap: 0.5rem;
  float: right;
}

.add-filter label {
  display: inline;
  margin: 0;
  font-size: 0.875rem;
  font-weight: 500;
  white-space: nowrap;
}

.add-filter select {
  width: auto;
  min-width: 150px;
}

/* ==========================================================================
   Modals
   ========================================================================== */

.modal-content {
  border: none;
  border-radius: var(--rm-radius-lg);
  box-shadow: var(--rm-shadow-md);
}

.modal-header {
  background: var(--rm-gray-50);
  border-bottom: 1px solid var(--rm-gray-200);
  padding: 1rem 1.5rem;
  border-radius: var(--rm-radius-lg) var(--rm-radius-lg) 0 0;
}

.modal-body {
  padding: 1.5rem;
}

.modal-footer {
  background: var(--rm-gray-50);
  border-top: 1px solid var(--rm-gray-200);
  padding: 1rem 1.5rem;
  border-radius: 0 0 var(--rm-radius-lg) var(--rm-radius-lg);
}

/* ==========================================================================
   Offcanvas (Mobile Menu)
   ========================================================================== */

.offcanvas {
  max-width: 300px;
}

.offcanvas-header {
  background: var(--rm-header-bg);
  color: #fff;
  padding: 1rem 1.25rem;
}

.offcanvas-title {
  font-weight: 600;
}

.offcanvas-body {
  padding: 1.25rem;
}

/* ==========================================================================
   Utilities
   ========================================================================== */

.text-muted { color: var(--rm-gray-500) !important; }
.bg-light { background: var(--rm-gray-50) !important; }
.border-start { border-left: 1px solid var(--rm-gray-200) !important; }

/* Hide old UI elements */
#main-menu .tabs-buttons { display: none; }
.mobile-toggle-button { display: none; }

/* ==========================================================================
   Responsive
   ========================================================================== */

@media (max-width: 991.98px) {
  #quick-search {
    display: none;
  }

  #main {
    flex-direction: column;
  }

  #sidebar {
    width: 100%;
    padding: 1rem;
    order: 2;
  }

  #content {
    margin: 0.5rem;
    padding: 1rem;
  }

  #header {
    padding: 0.75rem 1rem;
  }

  #main-menu {
    padding: 0 1rem;
    overflow-x: auto;
  }

  #main-menu ul {
    flex-wrap: nowrap;
  }

  .issue .attributes {
    grid-template-columns: 1fr;
  }
}

@media (max-width: 575.98px) {
  body {
    font-size: 0.875rem;
  }

  #content {
    padding: 1rem;
    margin: 0.5rem;
    border-radius: var(--rm-radius);
  }

  table.list th,
  table.list td,
  table.issues th,
  table.issues td {
    padding: 0.5rem 0.75rem;
    font-size: 0.8125rem;
  }
}

/* ==========================================================================
   Additional Polish
   ========================================================================== */

/* Project jump box */
#project-jump {
  position: relative;
}

#project-jump .drdn-trigger {
  display: inline-flex;
  align-items: center;
  gap: 0.5rem;
  padding: 0.5rem 1rem;
  background: rgba(255, 255, 255, 0.1);
  border: 1px solid rgba(255, 255, 255, 0.2);
  border-radius: var(--rm-radius);
  color: #fff;
  font-size: 0.875rem;
  cursor: pointer;
  transition: all 0.15s ease;
}

#project-jump .drdn-trigger:hover {
  background: rgba(255, 255, 255, 0.15);
  border-color: rgba(255, 255, 255, 0.3);
  text-decoration: none;
}

#project-jump .drdn-content {
  background: #fff;
  border: 1px solid var(--rm-gray-200);
  border-radius: var(--rm-radius);
  box-shadow: var(--rm-shadow-md);
  min-width: 250px;
}

#project-jump .drdn-content a {
  display: block;
  padding: 0.5rem 1rem;
  color: var(--rm-gray-700);
}

#project-jump .drdn-content a:hover {
  background: var(--rm-gray-50);
  color: var(--rm-primary);
  text-decoration: none;
}

/* JSTOOLBAR - Wiki/Textile editor toolbar */
.jstElements {
  display: flex;
  flex-wrap: wrap;
  gap: 2px;
  padding: 0.5rem;
  background: var(--rm-gray-50);
  border: 1px solid var(--rm-gray-200);
  border-bottom: none;
  border-radius: var(--rm-radius) var(--rm-radius) 0 0;
}

.jstElements button {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  width: 28px;
  height: 28px;
  padding: 0;
  background-color: #fff;
  background-repeat: no-repeat;
  background-position: center;
  background-size: 16px 16px;
  border: 1px solid var(--rm-gray-300);
  border-radius: var(--rm-radius-sm);
  cursor: pointer;
  font-size: 0.875rem;
  color: var(--rm-gray-600);
  transition: all 0.15s ease;
}

.jstElements button:hover {
  background: var(--rm-gray-100);
  border-color: var(--rm-gray-400);
  color: var(--rm-gray-800);
}

.jstElements .jstSpacer {
  width: 1px;
  height: 24px;
  background: var(--rm-gray-300);
  margin: 2px 4px;
}

/* Avatar styling */
.gravatar,
.avatar {
  border-radius: 50%;
  vertical-align: middle;
}

.avatar-circle {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  width: 40px;
  height: 40px;
  border-radius: 50%;
  background: var(--rm-primary-light);
  color: var(--rm-primary);
  font-weight: 600;
  font-size: 0.875rem;
}

/* Status badge improvements */
span.badge,
.badge {
  display: inline-flex;
  align-items: center;
  padding: 0.25em 0.625em;
  font-size: 0.75rem;
  font-weight: 600;
  border-radius: 9999px;
  text-transform: uppercase;
  letter-spacing: 0.025em;
}

/* Issue status colors */
.status.open,
.badge-open {
  background: #dbeafe;
  color: #1e40af;
}

.status.closed,
.badge-closed {
  background: #dcfce7;
  color: #166534;
}

/* Priority colors */
.priority-highest { color: #dc2626; }
.priority-high { color: #ea580c; }
.priority-normal { color: var(--rm-gray-600); }
.priority-low { color: #2563eb; }
.priority-lowest { color: var(--rm-gray-400); }

/* Icons in sidebar and contextual */
.icon {
  display: inline-flex;
  align-items: center;
  gap: 0.375rem;
}

.icon::before {
  font-family: "bootstrap-icons";
  font-size: 1em;
  line-height: 1;
}

/* Tooltip styling */
.ui-tooltip {
  background: var(--rm-gray-900) !important;
  color: #fff !important;
  border: none !important;
  border-radius: var(--rm-radius-sm) !important;
  padding: 0.5rem 0.75rem !important;
  font-size: 0.8125rem !important;
  box-shadow: var(--rm-shadow-md) !important;
}

/* Autocomplete dropdown */
.ui-autocomplete {
  background: #fff;
  border: 1px solid var(--rm-gray-200);
  border-radius: var(--rm-radius);
  box-shadow: var(--rm-shadow-md);
  max-height: 300px;
  overflow-y: auto;
}

.ui-autocomplete .ui-menu-item {
  padding: 0.5rem 1rem;
  cursor: pointer;
}

.ui-autocomplete .ui-menu-item:hover,
.ui-autocomplete .ui-state-active {
  background: var(--rm-gray-50);
  color: var(--rm-primary);
}

/* Context menu (right-click) */
#context-menu {
  background: #fff;
  border: 1px solid var(--rm-gray-200);
  border-radius: var(--rm-radius);
  box-shadow: var(--rm-shadow-md);
  padding: 0.5rem 0;
  min-width: 180px;
}

#context-menu li {
  list-style: none;
}

#context-menu a {
  display: block;
  padding: 0.5rem 1rem;
  color: var(--rm-gray-700);
  font-size: 0.875rem;
}

#context-menu a:hover {
  background: var(--rm-gray-50);
  color: var(--rm-primary);
  text-decoration: none;
}

#context-menu .folder > a {
  font-weight: 600;
}

/* Split content layout */
.splitcontent {
  display: flex;
  gap: 1.5rem;
}

.splitcontent > div {
  flex: 1;
}

.splitcontentleft,
.splitcontentright {
  flex: 1;
}

/* Activity/Journal entries */
#history,
.journal {
  margin-bottom: 1.5rem;
}

.journal {
  background: var(--rm-gray-50);
  border: 1px solid var(--rm-gray-200);
  border-radius: var(--rm-radius);
  padding: 1rem;
  margin-bottom: 1rem;
}

.journal h4 {
  display: flex;
  align-items: center;
  gap: 0.5rem;
  font-size: 0.9375rem;
  margin: 0 0 0.75rem;
  padding: 0;
  border: none;
}

.journal .details {
  font-size: 0.875rem;
  color: var(--rm-gray-600);
  margin-bottom: 0.5rem;
}

.journal .wiki {
  background: #fff;
  padding: 1rem;
  border-radius: var(--rm-radius-sm);
  border: 1px solid var(--rm-gray-200);
}

/* Collapsible sections */
.collapsible {
  cursor: pointer;
}

/* Only add arrow for elements without SVG icons */
.collapsible:not(:has(svg))::before {
  content: "â–¼";
  display: inline-block;
  margin-right: 0.5rem;
  font-size: 0.625rem;
  transition: transform 0.15s ease;
}

.collapsible.collapsed:not(:has(svg))::before {
  transform: rotate(-90deg);
}

/* Ensure collapsible legend with SVG displays inline */
fieldset.collapsible > legend {
  display: flex;
  align-items: center;
  gap: 0.25rem;
}

/* Loading/spinner enhancements */
#ajax-indicator {
  position: fixed;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  z-index: 9999;
  background: rgba(255, 255, 255, 0.95);
  padding: 2rem 3rem;
  border-radius: var(--rm-radius-lg);
  box-shadow: var(--rm-shadow-md);
}

.spinner-wrap {
  display: flex;
  align-items: center;
  gap: 1rem;
}

/* Calendar styles */
table.cal {
  width: 100%;
  border-collapse: collapse;
}

table.cal th {
  background: var(--rm-gray-50);
  padding: 0.75rem;
  font-size: 0.75rem;
  font-weight: 600;
  text-transform: uppercase;
  color: var(--rm-gray-600);
}

table.cal td {
  border: 1px solid var(--rm-gray-200);
  padding: 0.5rem;
  vertical-align: top;
  height: 80px;
}

table.cal td.odd {
  background: var(--rm-gray-50);
}

table.cal td.today {
  background: var(--rm-primary-light);
}

/* Gantt chart tweaks */
.gantt_hdr {
  background: var(--rm-gray-50);
  border: 1px solid var(--rm-gray-200);
}

/* File attachments */
.attachments {
  margin: 1rem 0;
}

.attachments .files {
  display: flex;
  flex-direction: column;
  gap: 0.5rem;
}

.attachments p {
  display: flex;
  align-items: center;
  gap: 0.5rem;
  padding: 0.5rem 0.75rem;
  background: var(--rm-gray-50);
  border-radius: var(--rm-radius-sm);
  margin: 0;
}

/* Time entries */
.time-entry {
  display: flex;
  align-items: center;
  gap: 1rem;
  padding: 0.75rem 0;
  border-bottom: 1px solid var(--rm-gray-100);
}

/* Roadmap / Version box */
.version-box {
  background: #fff;
  border: 1px solid var(--rm-gray-200);
  border-radius: var(--rm-radius);
  padding: 1.25rem;
  margin-bottom: 1.5rem;
}

.version-box h4 {
  margin: 0 0 0.75rem;
  padding: 0;
  border: none;
  font-size: 1.125rem;
}

/* News items */
.news {
  margin-bottom: 1.5rem;
}

.news h3 {
  margin-bottom: 0.5rem;
}

.news .author {
  font-size: 0.8125rem;
  color: var(--rm-gray-500);
}

/* Quick links in header */
#header .quick-links {
  display: flex;
  gap: 0.5rem;
  margin-top: 0.5rem;
}

/* Improve select2/tribute autocompletions */
.tribute-container {
  background: #fff;
  border: 1px solid var(--rm-gray-200);
  border-radius: var(--rm-radius);
  box-shadow: var(--rm-shadow-md);
}

.tribute-container li {
  padding: 0.5rem 1rem;
  cursor: pointer;
}

.tribute-container li:hover,
.tribute-container li.highlight {
  background: var(--rm-gray-50);
  color: var(--rm-primary);
}

/* ==========================================================================
   Table Responsiveness
   ========================================================================== */

/* Wrap content area to allow horizontal scroll for wide tables */
#content {
  overflow-x: auto;
  min-width: 0; /* Prevents flex item from overflowing */
}

/* Issues table - columns should fit content, not stretch */
table.list.issues {
  width: auto;
  min-width: 100%;
  table-layout: auto;
}

table.list.issues th,
table.list.issues td {
  width: auto;
  white-space: nowrap;
}

/* Subject column should take remaining space and allow wrapping */
table.list.issues td.subject,
table.list.issues th.subject {
  width: 100%;
  white-space: normal;
}

/* Checkbox column fixed width */
table.list.issues td.checkbox,
table.list.issues th.checkbox {
  width: 40px;
}

/* ID column compact */
table.list.issues td.id,
table.list.issues th.id {
  width: auto;
  white-space: nowrap;
}

/* Actions/buttons column - compact width */
table.list.issues th.buttons,
table.list.issues td.buttons {
  width: 40px;
  padding: 0.5rem;
  text-align: center;
}

table.list.issues td.buttons a {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  width: 28px;
  height: 28px;
  padding: 0;
  border-radius: var(--rm-radius-sm);
  color: var(--rm-gray-500);
  transition: all 0.15s ease;
}

table.list.issues td.buttons a:hover {
  background: var(--rm-gray-100);
  color: var(--rm-gray-700);
}

table.list.issues td.buttons a svg.icon-svg {
  stroke: currentColor;
}
